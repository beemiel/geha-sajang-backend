= âœ¨ê²Œí•˜ì‚¬ì¥âœ¨ API Docs
0.0.1, 2020/08/13
:toc: left
:sectnums:
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toclevels: 5
:sectlinks:

[[overview]]
= ê°œìš”

ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»INCENSE ê²Œí•˜ì‚¬ì¥ ì„œë¹„ìŠ¤ì˜ APIë¥¼ ì •ë¦¬í•´ë†“ì€ ë¬¸ì„œì…ë‹ˆë‹¤.

ì„œë²„ê°€ APIì„œë²„ì´ë¯€ë¡œ ê¸°ë³¸ Urlì€ **/api/v1(ë²„ì „)/~** ì…ë‹ˆë‹¤.

ì˜ˆ) `http://13.124.108.177:8080/api/v1/houses/1`

- methodëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

|===
| Method | Content

| `GET`
| ì½ê¸°

| `POST`
| ì¶”ê°€

| `PATCH`
| ìˆ˜ì •

| `DELETE`
| ì‚­ì œ
|===

- Http Status CodeëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

|===
| Status code | Usage

| `200 OK`
| ìš”ì²­ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤.

| `201 Created`
| ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

| `204 No Content`
| ìš”ì²­ì€ ì„±ê³µí–ˆì§€ë§Œ íŠ¹ë³„í•œ ResponseëŠ” ì—†ìŠµë‹ˆë‹¤.

| `400 Bad Request`
| ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤.

| `404 Not Found`
| ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

| `409 Conflict`
| DBì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤.

| `500 INTERNAL_SERVER_ERROR`
| ì„œë²„ ë‚´ë¶€ ì—ëŸ¬ì…ë‹ˆë‹¤.
|===

- ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì—ëŸ¬ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

??? ì£¼ë¡œ ìœ íš¨ì„± ê²€ì‚¬
|===
| Error code | Status | Message

| `???`
|  400
|  ì…ë ¥ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤

|===

House ê´€ë ¨
|===
| Error code | Status | Message

| `HO_001`
|  404
|  í•´ë‹¹ í•˜ìš°ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

| `HO_002`
|  400
|  ì§€ì •ëœ ìˆ«ìë¥¼ ì´ˆê³¼í•˜ì˜€ìŠµë‹ˆë‹¤.

|===

í˜¸ìŠ¤íŠ¸ ê´€ë ¨
|===
| Error code | Status | Message

| `US_001`
|  409
|  ì´ë¯¸ ë“±ë¡ëœ í˜¸ìŠ¤íŠ¸ì…ë‹ˆë‹¤.

| `US_002`
|  404
|  í˜¸ìŠ¤íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

| `US_003`
|  401
|  ì¸ì¦í‚¤ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.

| `US_004`
|  401
|  ì´ë¯¸ ì¸ì¦ì´ ì™„ë£Œëœ í˜¸ìŠ¤íŠ¸ì…ë‹ˆë‹¤.

| `US_005`
|  401
|  ë§Œë£Œëœ ì¸ì¦í‚¤ì…ë‹ˆë‹¤.

|===

ì´ë¯¸ì§€ ê´€ë ¨
|===
| Error code | Status | Message

| `IMG_001`
|  500
|  10MBì´í•˜ì˜ íŒŒì¼ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤

| `IMG_002`
|  500
|  MultipartFile -> Fileë¡œ ì „í™˜ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤

|===

ë©”ì¼ ê´€ë ¨
|===
| Error code | Status | Message

| `MA_001`
|  500
|  ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤

|===

== House ê´€ë ¨ API

=== GET /houses/{houseId}
ver1: ìš”ì²­í•œ house idì˜ house ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

==== 200 ì„±ê³µ
ìš”ì²­í•œ Houseì˜ ì •ë³´ë¥¼ ì„±ê³µì ìœ¼ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.

- HTTP Request
include::{snippets}/house-controller-test/get-house-info-success/http-request.adoc[]

- HTTP Response
include::{snippets}/house-controller-test/get-house-info-success/http-response.adoc[]

- Path parameters
include::{snippets}/house-controller-test/get-house-info-success/path-parameters.adoc[]

- Response Fields
include::{snippets}/house-controller-test/get-house-info-success/response-fields.adoc[]

==== 404 ì‹¤íŒ¨
ìš”ì²­í•œ Houseì˜ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

- HTTP Request
include::{snippets}/house-controller-test/get-house-info-fail/http-request.adoc[]

- HTTP Response
include::{snippets}/house-controller-test/get-house-info-fail/http-response.adoc[]

- Path parameters
include::{snippets}/house-controller-test/get-house-info-fail/path-parameters.adoc[]

- Response Fields
include::{snippets}/house-controller-test/get-house-info-fail/response-fields.adoc[]

=== POST /houses
ver1: ìš”ì²­í•œ Houseì˜ ì •ë³´ë¥¼ DBì— ì €ì¥í•©ë‹ˆë‹¤.

==== 201 ì„±ê³µ
DBì— ì„±ê³µì ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.
ê²ŒìŠ¤íŠ¸ í•˜ìš°ìŠ¤ ì´ë¦„, ì „í™”ë²ˆí˜¸, ì¶”ê°€ì •ë³´, ì´ë¯¸ì§€ë¥¼ form-dataì— ë„£ì–´ì„œ ìš”ì²­í•©ë‹ˆë‹¤.

- HTTP Request
```
POST /api/v1/houses HTTP/1.1
Content-Type: multipart/form-data
Host: 13.124.108.177:8080
```

- Request Parameters
|===
| Parameter	 | Description

| file
| ì´ë¯¸ì§€ íŒŒì¼(NULLâŒ)

| name
| ì´ë¦„(50ìì´ë‚´ í•„ìˆ˜ê°’)

| mainNumber
| ì „í™”ë²ˆí˜¸(ìˆ«ìë§Œ, 11ìì´ë‚´ í•„ìˆ˜ê°’)

| extra
| ê²ŒìŠ¤íŠ¸ í•˜ìš°ìŠ¤ ì¶”ê°€ ì •ë³´(NULLâŒ)
|===

- HTTP Response
```
HTTP/1.1 201 Created
```

==== 400 ì‹¤íŒ¨ (ì´ë¦„/ì „í™”ë²ˆí˜¸)
ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ì˜ ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•©ë‹ˆë‹¤.

ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ëŠ” í•¨ê»˜ ê²€ì‚¬í•˜ë¯€ë¡œ errorsë¼ëŠ” ë°°ì—´ì— ìƒì„¸ ë‚´ìš©ì´ ë‹´ê¹ë‹ˆë‹¤.

- HTTP Request
```
POST /api/v1/houses HTTP/1.1
Content-Type: multipart/form-data
Host: 13.124.108.177:8080
```

- Request Parameters
|===
| Parameter	 | Description

| file
| ì´ë¯¸ì§€ íŒŒì¼(NULLâŒ)

| name
| ì´ë¦„(50ìì´ë‚´ í•„ìˆ˜ê°’)

| mainNumber
| ì „í™”ë²ˆí˜¸(ìˆ«ìë§Œ, 11ìì´ë‚´ í•„ìˆ˜ê°’)

| extra
| ê²ŒìŠ¤íŠ¸ í•˜ìš°ìŠ¤ ì¶”ê°€ ì •ë³´(NULLâŒ)
|===

- HTTP Response
```
HTTP/1.1 400 Bad Request
Content-Type: application/json;charset=UTF-8

{
  "message" : "ì…ë ¥ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.",
  "code" : "???",
  "status" : 400,
  "errors" : [ {
    "field" : "mainNumber",
    "value" : "01012-3456-11178",
    "reason" : "ì „í™”ë²ˆí˜¸ëŠ” 9~11ìì˜ ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }, {
    "field" : "name",
    "value" : "",
    "reason" : "ê²ŒìŠ¤íŠ¸ í•˜ìš°ìŠ¤ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  } ]
}

```

- Response Fields
include::{snippets}/house-controller-test/validation/response-fields.adoc[]

==== 400 ì‹¤íŒ¨ (ì¶”ê°€ ì •ë³´)
ì¶”ê°€ ì •ë³´ì˜ ê°œìˆ˜ê°€ 16ê°œ ì´ìƒì¸ ê²½ìš° ì˜ˆì™¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/house-controller-test/number-exceeded-exception/http-request.adoc[]

- HTTP Response
include::{snippets}/house-controller-test/number-exceeded-exception/http-response.adoc[]

- Response Fields
include::{snippets}/house-controller-test/number-exceeded-exception/response-fields.adoc[]

==== 500 ì‹¤íŒ¨ (ì´ë¯¸ì§€ ì—…ë¡œë“œ)
ì´ë¯¸ì§€ì˜ í¬ê¸°ê°€ ì„œë²„ì— ì—…ë¡œë“œ ê°€ëŠ¥í•œ í¬ê¸°ë¥¼ ì´ˆê³¼í•œ ê²½ìš° ì˜ˆì™¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/house-controller-test/file-size-limit-exceeded-exception/http-request.adoc[]

- HTTP Response
include::{snippets}/house-controller-test/file-size-limit-exceeded-exception/http-response.adoc[]

- Response Fields
include::{snippets}/house-controller-test/file-size-limit-exceeded-exception/response-fields.adoc[]

==== 500 ì‹¤íŒ¨ (ì´ë¯¸ì§€ ë³€í™˜)
multipartFileì„ Fileë¡œ ë³€í™˜ì— ì‹¤íŒ¨í•©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/house-controller-test/cannot-convert-exception/http-request.adoc[]

- HTTP Response
include::{snippets}/house-controller-test/cannot-convert-exception/http-response.adoc[]

- Response Fields
include::{snippets}/house-controller-test/cannot-convert-exception/response-fields.adoc[]

== ì•½ê´€ ê´€ë ¨ API

=== GET /terms
ver1: ëª¨ë“  ì•½ê´€ ë¦¬ìŠ¤íŠ¸ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.

==== 200 ì„±ê³µ
ìš”ì²­í•œ ì•½ê´€ ë¦¬ìŠ¤íŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.

- HTTP Request
include::{snippets}/terms-controller-test/list/http-request.adoc[]

- HTTP Response
include::{snippets}/terms-controller-test/list/http-response.adoc[]

- Response Fields
include::{snippets}/terms-controller-test/list/response-fields.adoc[]

== íšŒì›ê°€ì… ê´€ë ¨ API
íšŒì›ê°€ì…ì„ ì‹¤ì‹œí•©ë‹ˆë‹¤.

ì¤‘ë³µ ê²€ì‚¬ì—ì„œ ì¤‘ë³µì´ ìˆëŠ”ğŸ™†â€â™€ï¸â­• ê²½ìš° **true**ë¥¼,

ì¤‘ë³µì´ ì—†ëŠ”ğŸ™…â€â™€ï¸âŒ ê²½ìš°ì—ëŠ” **false**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

âœ¨ì£¼ì˜âœ¨ DBì— ìš”ì²­í•œ ê°’ì´ `ì¡´ì¬í•˜ëŠ”ì§€`ê°€ ê¸°ì¤€ì…ë‹ˆë‹¤. ì‹¤ìˆ˜í•˜ì§€ ì•Šë„ë¡ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ë³´ì•„ìš”.


=== POST /users/check-email
ver1: ì´ë©”ì¼ ì¤‘ë³µ ê²€ì‚¬ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.

==== 200 ì„±ê³µ
ì¤‘ë³µê²€ì‚¬ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/check-email/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/check-email/http-response.adoc[]

- Request Fields
include::{snippets}/sign-up-controller-test/check-email/request-fields.adoc[]

=== POST /users/check-name
ver1: ì´ë¦„ ì¤‘ë³µ ê²€ì‚¬ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.

==== 200 ì„±ê³µ
ì¤‘ë³µê²€ì‚¬ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/check-name/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/check-name/http-response.adoc[]

- Request Fields
include::{snippets}/sign-up-controller-test/check-name/request-fields.adoc[]

=== POST /users
ver1: íšŒì›ê°€ì…ì„ ìš”ì²­í•©ë‹ˆë‹¤.

í˜¸ìŠ¤íŠ¸ `ì´ë©”ì¼, ë‹‰ë„¤ì„, ë¹„ë°€ë²ˆí˜¸, í”„ë¡œí•„ ì‚¬ì§„, ë§ˆì¼€íŒ… ë™ì˜ ì—¬ë¶€` ë¥¼ form-dataì— ë„£ì–´ì„œ ìš”ì²­í•©ë‹ˆë‹¤.

ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš° nullì´ ì•„ë‹Œ `ë¹ˆ ê°’` ìœ¼ë¡œ ë³´ë‚´ì£¼ì„¸ìš”.

==== 201 ì„±ê³µ
ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/join/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/join/http-response.adoc[]

- Request Part Body
include::{snippets}/sign-up-controller-test/join/request-part-file-body.adoc[]

- Request Parameters
include::{snippets}/sign-up-controller-test/join/request-parameters.adoc[]

==== 400 ì‹¤íŒ¨ (ìœ íš¨ì„± ê²€ì‚¬)
ìœ íš¨í•œ ê°’ì´ ì•„ë‹ˆë¯€ë¡œ ì‹¤íŒ¨í•©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/join_validation/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/join_validation/http-response.adoc[]

- Request Parameters
include::{snippets}/sign-up-controller-test/join_validation/request-parameters.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/join_validation/response-fields.adoc[]

==== 500 ì‹¤íŒ¨ (ì´ë¯¸ì§€ í¬ê¸° ì´ˆê³¼)
ì´ë¯¸ì§€ íŒŒì¼ì˜ í¬ê¸°ê°€ 10MB ì´ìƒì…ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/join-image-file-exceeded-exception/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/join-image-file-exceeded-exception/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/join-image-file-exceeded-exception/response-fields.adoc[]

==== 500 ì‹¤íŒ¨ (ì´ë¯¸ì§€ ë³€í™˜ ì‹¤íŒ¨)
ì´ë¯¸ì§€ íŒŒì¼ì„ ë‚´ë¶€ì ìœ¼ë¡œ ë³€í™˜í•˜ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/join-image-cannot-convert-file/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/join-image-cannot-convert-file/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/join-image-cannot-convert-file/response-fields.adoc[]

==== 409 ì‹¤íŒ¨ (ì¤‘ë³µ)
ì´ë¯¸ ë“±ë¡ëœ í˜¸ìŠ¤íŠ¸ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/join-duplication/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/join-duplication/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/join-duplication/response-fields.adoc[]

=== GET users/auth?email=&authkey=
ver1: íšŒì›ê°€ì…ì‹œ í˜¸ìŠ¤íŠ¸ ì´ë©”ì¼ë¡œ ì „ì†¡ë˜ëŠ” ì¸ì¦ ë§í¬ì™€ ì—°ê²°ëœ ì¸ì¦ APIì…ë‹ˆë‹¤.

==== 201 ì„±ê³µ
ì„±ê³µì ìœ¼ë¡œ ì¸ì¦ë˜ì—ˆìŠµë‹ˆë‹¤.
ì¸ì¦ì´ ì™„ë£Œë˜ë©´ ì¸ì¦ ì™„ë£Œ ë¬¸êµ¬ë§Œ Stringìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/join-confirm/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/join-confirm/http-response.adoc[]

- Request Parameters
include::{snippets}/sign-up-controller-test/join-confirm/request-parameters.adoc[]

==== 401 ì‹¤íŒ¨ (ì¸ì¦í‚¤ ë¶ˆì¼ì¹˜)
authKey ë¶ˆì¼ì¹˜ë¡œ ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/fail-to-auth/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/fail-to-auth/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/fail-to-auth/response-fields.adoc[]

==== 401 ì‹¤íŒ¨ (ì¸ì¦ ì¤‘ë³µ)
ì´ë¯¸ ì¸ì¦ëœ í˜¸ìŠ¤íŠ¸ì…ë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/duplicate-auth/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/duplicate-auth/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/duplicate-auth/response-fields.adoc[]

==== 401 ì‹¤íŒ¨ (ì¸ì¦í‚¤ ë§Œë£Œ)
authKeyì˜ ë§Œë£Œì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/expiration/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/expiration/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/expiration/response-fields.adoc[]

==== 404 ì‹¤íŒ¨ (í˜¸ìŠ¤íŠ¸)
ìš”ì²­í•œ emailì— í•´ë‹¹í•˜ëŠ” í˜¸ìŠ¤íŠ¸ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/not-found-host/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/not-found-host/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/not-found-host/response-fields.adoc[]

==== 500 ì‹¤íŒ¨ (ë©”ì¼ ì „ì†¡)
ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.

- HTTP Request
include::{snippets}/sign-up-controller-test/fail-to-send-mail/http-request.adoc[]

- HTTP Response
include::{snippets}/sign-up-controller-test/fail-to-send-mail/http-response.adoc[]

- Response Fields
include::{snippets}/sign-up-controller-test/fail-to-send-mail/response-fields.adoc[]
